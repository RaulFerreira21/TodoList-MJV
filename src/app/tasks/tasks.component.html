<div class="projectTitle">Agenda de Compromissos</div>

<mat-card class="card">
  <mat-form-field class="input-field">
    <mat-label>Adicionar novo Compromisso</mat-label>
    <input matInput class="todo-input" [(ngModel)]="newTodo.title" (keyup.enter)="addTodo()">
  </mat-form-field>
</mat-card>

<div class="content" *ngIf="todos.length > 0">
  <p class="todo-list">
    <mat-card class="new-card" *ngFor="let todo of todos" [class.completed]="todo.complete">
      <div class="view">


        <label id="teste" [ngClass]="todo.complete ? 'done' : 'undone'">{{todo.title}}</label>
        <button class="toggle-complete" mat-mini-fab color="primary" (click)="removeTodo(todo)"
          aria-label="Example icon button with a delete icon">

          <mat-icon>delete</mat-icon>
        </button>
        
        <button [ngClass]="todo.complete ? 'done' : 'undone'" mat-mini-fab color="basic"
        (click)="toggleTodoComplete(todo)">
        <mat-icon>check</mat-icon>
      </button>
      
      <button [ngClass]="todo.isEditable ? 'done' : 'undone'" mat-mini-fab color="basic"
        (click)="edit(todo)">
        <mat-icon>assignment_return</mat-icon>
      </button>
      
        <span *ngIf="testedit; then condition1 else condition2"></span>
        <ng-template #condition1>
          
          <div>
            <output>{{todo.title}}</output>
          </div>
        </ng-template>

        <ng-template #condition2>
          
          <div>
            <!-- <input matInput class="todo-input" [(ngModel)]="newTodo.title" (keyup.enter)="addTodo()"> -->
            <input type="text" class="todo-input" [(ngModel)]="todo.title" (keyup.enter)="edit(todo)" value="{{todo.title}}">
          </div>
        </ng-template>


        <!-- <label id="testedit" [ngClass]="todo.isEditable ? 'done' : 'undone'">Edit</label>
        <button class="toggle-complete" mat-mini-fab color="primary" (click)="edit(todo)"
          aria-label="Example icon button with a delete icon">

          <mat-icon>delete</mat-icon>
        </button> -->
        <!-- <label id="teste" [ngClass]="todo.isEditable ? 'done' : 'undone'">{{ }}</label>    
        <button mat-mini-fab color="warn"><mat-icon (click)="edit($event)">assignment_return</mat-icon></button> -->

      </div>
    </mat-card>
  </p>
</div>